(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1849:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});let a={flaticon_stickers:{animals:["https://cdn-icons-png.flaticon.com/256/4105/4105443.png","https://cdn-icons-png.flaticon.com/256/4105/4105444.png","https://cdn-icons-png.flaticon.com/256/4105/4105445.png","https://cdn-icons-png.flaticon.com/256/4105/4105446.png","https://cdn-icons-png.flaticon.com/256/4105/4105447.png","https://cdn-icons-png.flaticon.com/256/4105/4105448.png","https://cdn-icons-png.flaticon.com/256/4105/4105449.png","https://cdn-icons-png.flaticon.com/256/4105/4105450.png","https://cdn-icons-png.flaticon.com/256/4105/4105451.png","https://cdn-icons-png.flaticon.com/256/4105/4105452.png","https://cdn-icons-png.flaticon.com/256/4105/4105453.png","https://cdn-icons-png.flaticon.com/256/4105/4105454.png","https://cdn-icons-png.flaticon.com/256/4105/4105455.png","https://cdn-icons-png.flaticon.com/256/4105/4105456.png","https://cdn-icons-png.flaticon.com/256/4105/4105441.png","https://cdn-icons-png.flaticon.com/256/4105/4105441.png","https://cdn-icons-png.flaticon.com/256/4105/4105441.png"]}}},2068:e=>{e.exports={chatSkeleton:"skeletons_chatSkeleton__yHEFe",fade:"skeletons_fade__rqHLV"}},2831:e=>{e.exports={footer:"footer_footer__Q4r1P"}},2988:e=>{e.exports={blur:"confirm_blur__PpgOj",msgBox:"confirm_msgBox__dwrOY",confirm:"confirm_confirm__wOdvA",input:"confirm_input__W7bE8",buttonsDiv:"confirm_buttonsDiv__o_I6O",btn:"confirm_btn__wdBvW"}},4399:e=>{e.exports={body:"login_body__w7zaL",login:"login_login__UiE7x",close:"login_close__hA3MP",h1:"login_h1__kfmcR",inpDiv:"login_inpDiv__e_GFF",input:"login_input__7S0hq",label:"login_label__lRb3n",loginB:"login_loginB__h8lfB",psswD:"login_psswD__mCEES",eye:"login_eye__B5cxj"}},5184:e=>{e.exports={fade:"fade_fade__NJoPr"}},5259:e=>{e.exports={addPostButton:"discover_addPostButton__brRiY",bounse:"discover_bounse__6kK1_"}},5567:e=>{e.exports={trans:"transition_trans__FlRlk",sizer:"transition_sizer__FlEdG",trans_sheet:"transition_trans_sheet__oyU99",sizer_sheet:"transition_sizer_sheet__4XUDD",fade:"transition_fade__MEeYG",trans2:"transition_trans2__EcDxL",sizer2:"transition_sizer2__WihmE",trans3:"transition_trans3__DGexF",sizer3:"transition_sizer3__Nk_Jl",width:"transition_width__oo_je",widther:"transition_widther__fV_P2",toast_trans:"transition_toast_trans__tjBLi",slideIn:"transition_slideIn__Xg85E",toast_trans_remove:"transition_toast_trans_remove__sPn7t",slideOut:"transition_slideOut__lRoiw",trans4:"transition_trans4__h8SJt",confirm:"transition_confirm__b9OUG",scale:"transition_scale__ohmMw",width_scale:"transition_width_scale__QyWtJ",height_scale:"transition_height_scale__fgIPc"}},5839:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(6557),l=s.n(a),n=s(6315),o=s.n(n);l().extend(o());let r=e=>{let t,s=l()(e).fromNow();return s.includes("minutes")?t=s.replace("minutes","mins"):s.includes("a day")?t=s.replace("a day","1d"):s.split(" ").includes("day")?t=s.replace(" day","d"):s.split(" ").includes("days")?t=s.replace(" days","d"):s.includes("a few seconds")?t="now":s.includes("seconds")?t=s.replace("seconds","s"):s.includes("a minute")?t="1m":s.includes("an hour")?t=s.replace("an hour","1h"):s.includes("hours")&&(t=s.replace(" hours","h")),t&&t.replace("ago","")}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(9244)}])},6906:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(7876),l=s(7964),n=s(4232),o=s(900);function r(e){let t,s,r,i,c,d,m,u=(0,l.c)(16),{title:f,left:p,right:h,title_size:x}=e,[_,g]=(0,n.useState)(!0);u[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{!async function(){await o.Ii.isNativePlatform()?g(!0):g(!1)}()},s=[],u[0]=t,u[1]=s):(t=u[0],s=u[1]),(0,n.useEffect)(t,s);let b=_?"30px":0;u[2]!==b?(r={marginTop:b},u[2]=b,u[3]=r):r=u[3];let j=`${x||"text-2xl"}`,y=f&&f;return u[4]!==j||u[5]!==y?(i=(0,a.jsx)("strong",{className:j,children:y}),u[4]=j,u[5]=y,u[6]=i):i=u[6],u[7]!==p||u[8]!==i?(c=(0,a.jsxs)("div",{className:"flex gap-3.5 items-center",children:[p,i]}),u[7]=p,u[8]=i,u[9]=c):c=u[9],u[10]!==h?(d=(0,a.jsx)("div",{className:"text-[darkgray] flex items-center gap-5",children:h}),u[10]=h,u[11]=d):d=u[11],u[12]!==r||u[13]!==c||u[14]!==d?(m=(0,a.jsxs)("div",{style:r,className:"flex justify-between items-center color-white-500 w-[94%] pl-2 pr-2 h-[65px]",children:[c,d]}),u[12]=r,u[13]=c,u[14]=d,u[15]=m):m=u[15],m}},7276:e=>{e.exports={back:"authPopUp_back___4VPY",q:"authPopUp_q__lT6J2",colorChange:"authPopUp_colorChange__Glbxj",q2:"authPopUp_q2__sWgDA",body:"authPopUp_body__xykp_",h1:"authPopUp_h1__FxlYZ",typer:"authPopUp_typer__hE94j",optionsDiv:"authPopUp_optionsDiv__zIK_j",divider:"authPopUp_divider__gNbR3",div:"authPopUp_div__Xr7LM",option:"authPopUp_option__kLsT9",icon:"authPopUp_icon__ZEeDB"}},7519:e=>{e.exports={load:"loader_load__AUTd8",spinner:"loader_spinner__z_9JC",loader:"loader_loader__Hk3M2",spin:"loader_spin__c9BwM",main:"loader_main__y_Nlx",bounce:"loader_bounce__Q4Un_"}},7611:e=>{e.exports={loader:"home_loader__fiQST",spin:"home_spin__WnKEf"}},8092:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(7876),l=s(4232);function n({src:e,className:t,alt:s,loading_box_style:n,style:o}){let r=(0,l.useRef)(null),[i,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{},[e]),(0,a.jsx)("div",{children:i?(0,a.jsx)("img",{ref:r,loading:"lazy",src:e,alt:s,className:t}):(0,a.jsx)("div",{className:n})})}},8457:e=>{e.exports={bounse:"create_popup_bounse__of1kn",sizer:"create_popup_sizer__iTVoe",fade:"create_popup_fade__wxHnu"}},9244:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>e8});var a=s(7876),l=s(7964),n=s(1111),o=s(4232),r=s(2831),i=s.n(r);function c(e){let t,s=(0,l.c)(2),{elems:n}=e;return s[0]!==n?(t=(0,a.jsx)("div",{className:i().footer,children:n}),s[0]=n,s[1]=t):t=s[1],t}var d=s(7071),m=s(5648),u=s(680),f=s(2887),p=s(2642),h=s(8603),x=s(9905),_=s(6906),g=s(4e3),b=s(5839),j=s(8092);function y({name:e,message:t,time:s,profile:l,is_read:o,roomId:r,lastMsgSender:i,loggedUserId:c,lastMsgSenderId:d}){let m=(0,g.useRouter)(),u=(0,b.A)(s),f=!o.find(e=>e===c);return(0,a.jsxs)("div",{onClick:()=>{n.A.emit("seen",{user:c,room_id:r}),m.push(`/chat?chat_id=${encodeURIComponent(r)}`)},className:"flex justify-between w-full h-[72px] p-3 items-center gap-2 active:bg-[#1d1d1d50]",children:[(0,a.jsx)("div",{children:l?(0,a.jsx)(j.A,{className:"h-13 w-13 rounded-full border border-[#1d1d1d]",loading_box_style:"h-13 w-13 rounded-full bg-[#1d1d1d]",src:l}):(0,a.jsx)("div",{className:"bg-[rgba(106,105,254,0.125)] w-13 h-13 rounded-[100px] flex justify-center items-center text-[#6a69fe] font-bold ",children:e[0].toUpperCase()||"?"})}),(0,a.jsxs)("div",{className:"flex flex-col items-start flex-1 gap-1",children:[(0,a.jsx)("strong",{children:e}),(0,a.jsxs)("small",{className:`text-[${!f?"#949494":"white"}] ${!f?"font-normal":"font-bold"} overflow-hidden`,style:{whiteSpace:"nowrap"},children:[c===d?"You":i.split(" ")[0],": ",t.split("").length>=22?`${t.substring(0,22)}...`:t]})]}),(0,a.jsxs)("div",{className:"h-12 pr-2 items-end flex flex-col mb-1 justify-center gap-2 text-[#949494]",children:[(0,a.jsx)("small",{className:`text-[${!f&&"white"}] ${f?"font-bold":"font-normal"}`,children:u}),f&&(0,a.jsx)("div",{className:"w-3 h-3 bg-[#6a69fe] rounded-2xl"})]})]})}var v=s(2068),N=s.n(v);function S(){let e,t,s=(0,l.c)(2);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"bg-[#1d1d1d] w-13 h-13 rounded-[100px] flex justify-center items-center text-[#6a69fe] font-bold "})}),s[0]=e):e=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{className:`flex justify-between w-full h-[65px] p-3 items-center gap-2 ${N().chatSkeleton}`,children:[e,(0,a.jsxs)("div",{className:"flex gap-2 flex-col items-start flex-1",children:[(0,a.jsx)("div",{className:"w-30 rounded-2xl h-3 bg-[#1d1d1d]"}),(0,a.jsx)("div",{className:"w-50 rounded-2xl h-3 bg-[#1d1d1d]"})]})]}),s[1]=t):t=s[1],t}let w=new Map;function k(){return{setProvider:(e,t)=>{w.set(e,t)},getProvider:e=>w.get(e),remove:e=>w.delete(e),clear:()=>w.clear(),has:e=>w.has(e)}}function C(e){let t,s,r,i,c,d,m,u,f,g,b,j,v,N=(0,l.c)(23),{onEmit:w}=e,{setProvider:C,getProvider:z}=k();N[0]!==z?(t=z("conversationsList")||[],N[0]=z,N[1]=t):t=N[1];let[I,P]=(0,o.useState)(t),[E,T]=(0,o.useState)(""),[B,M]=(0,o.useState)(!0);return N[2]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{let e=JSON.parse(localStorage.getItem("user"));e?.id&&T(e.id)},r=[],N[2]=s,N[3]=r):(s=N[2],r=N[3]),(0,o.useEffect)(s,r),N[4]!==z||N[5]!==C?(i=()=>{try{let e=JSON.parse(localStorage.getItem("token"));(async()=>{if((await z("conversationsList")||[]).length>=1)return;let t=await fetch("http://localhost:4000/api/chat/conversationList",{headers:{token:e}}),s=await t.json();t.ok&&s.rooms.length&&(P(s.rooms),C("conversationsList",s.rooms),M(!1))})()}catch(e){console.error(e)}},N[4]=z,N[5]=C,N[6]=i):i=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(c=[],N[7]=c):c=N[7],(0,o.useEffect)(i,c),N[8]!==w?(d=()=>{let e=e=>{P(t=>{let s=t.findIndex(t=>t.id===e.roomId);if(-1===s)return t;let a=t[s],l=a.participants.find(t=>t.id===e.sender_id);return[{...a,lastMsg:{...a.lastMsg,content:e.content,sender:{...a.lastMsg.sender,name:l?.name,username:l?.username}}},...t.filter((e,t)=>t!==s)]}),w()};return n.A.on("receive_message",e),()=>n.A.off("receive_message",e)},N[8]=w,N[9]=d):d=N[9],N[10]===Symbol.for("react.memo_cache_sentinel")?(m=[],N[10]=m):m=N[10],(0,o.useEffect)(d,m),N[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(_.A,{title:"Messages",right:[(0,a.jsx)(p.A,{size:22},1),(0,a.jsx)(h.A,{onClick:A},2)]}),N[11]=u):u=N[11],N[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsxs)("div",{type:"text",className:"bg-[#1d1d1d] p-3 pl-5 pr-5 rounded-[50px] w-[94%] flex items-center text-[darkgray] justify-start gap-3",children:[(0,a.jsx)(x.A,{size:20})," Search..."]}),N[12]=f):f=N[12],N[13]!==I||N[14]!==E?(g=I.length>=1?I.map((e,t)=>{let s=e?.participants.find(e=>e.id!==E);return(0,a.jsx)(y,{name:s?.name,time:e?.updatedAt,is_read:e?.seen_by,message:e?.lastMsg.content,lastMsgSender:e?.lastMsg.sender.name,lastMsgSenderId:e?.lastMsg.sender.id,loggedUserId:E,roomId:e?.id,profile:s?.profile},t)}):null,N[13]=I,N[14]=E,N[15]=g):g=N[15],N[16]!==g?(b=(0,a.jsx)("div",{className:"w-[100%] flex flex-col mt-4",children:g}),N[16]=g,N[17]=b):b=N[17],N[18]!==B?(j=B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{}),(0,a.jsx)(S,{})]}),N[18]=B,N[19]=j):j=N[19],N[20]!==b||N[21]!==j?(v=(0,a.jsxs)("div",{className:"h-screen w-full text-center flex justify-between items-center flex-col",children:[u,(0,a.jsxs)("div",{className:"flex-1 flex w-[100%] pt-2 flex-col items-center overflow-scroll pb-25",children:[f,b,j]})]}),N[20]=b,N[21]=j,N[22]=v):v=N[22],v}function A(){localStorage.clear(),location.reload()}function z(e){let t,s,n,o,r,i,c,m,u,p,h=(0,l.c)(23),{notification:x}=e,_=`w-[100%] flex p-2 gap-2 items-center ${x.isSeen?"":"bg-[#6a69fe17]"} active:bg-[rgb(26,26,26)]`;return h[0]===Symbol.for("react.memo_cache_sentinel")?(t={position:"relative"},h[0]=t):t=h[0],h[1]!==x.user.username[0]?(s=x.user.username[0].toUpperCase(),h[1]=x.user.username[0],h[2]=s):s=h[2],h[3]===Symbol.for("react.memo_cache_sentinel")?(n={position:"absolute",bottom:0,right:0,backgroundColor:"white",borderRadius:"50px",padding:4},h[3]=n):n=h[3],h[4]!==x.notifType?(o=(0,a.jsx)("div",{style:n,children:"like"===x.notifType?(0,a.jsx)(f.A,{fill:"#6a69fe",size:13}):(0,a.jsx)(d.A,{color:"",fill:"#18cc00",size:13})}),h[4]=x.notifType,h[5]=o):o=h[5],h[6]!==s||h[7]!==o?(r=(0,a.jsxs)("div",{className:"h-13 w-13 flex gap-2 items-center justify-center text-[#6a69fe] rounded-full bg-[rgba(106,105,254,0.125)] font-bold",style:t,children:[s,o]}),h[6]=s,h[7]=o,h[8]=r):r=h[8],h[9]!==x.user.username?(i=(0,a.jsx)("strong",{children:x.user.username}),h[9]=x.user.username,h[10]=i):i=h[10],h[11]!==x.msg||h[12]!==i?(c=(0,a.jsxs)("span",{className:"flex gap-1",children:[i,x.msg]}),h[11]=x.msg,h[12]=i,h[13]=c):c=h[13],h[14]!==x.time?(m=(0,a.jsx)("small",{className:"text-[#818181]",children:x.time}),h[14]=x.time,h[15]=m):m=h[15],h[16]!==c||h[17]!==m?(u=(0,a.jsxs)("div",{className:"flex flex-col gap-1 items-start",children:[c,m]}),h[16]=c,h[17]=m,h[18]=u):u=h[18],h[19]!==_||h[20]!==u||h[21]!==r?(p=(0,a.jsxs)("div",{className:_,children:[r,u]}),h[19]=_,h[20]=u,h[21]=r,h[22]=p):p=h[22],p}function I(){return(0,a.jsxs)("div",{className:"h-screen w-full text-center flex justify-between items-center flex-col",children:[(0,a.jsx)(_.A,{title:"Notifications",right:[(0,a.jsx)(h.A,{onClick:()=>router.push("/search")},3)]}),(0,a.jsx)("div",{className:"w-full flex-1 flex flex-col items-center overflow-scrollf pb-20",children:[{user:{userid:"1927",username:"jack922"},msg:"has liked your post",notifType:"like",time:"1min ago",isSeen:!1},{user:{userid:"192837",username:"john8363"},msg:"has commented your post",notifType:"comment",time:"1h ago",isSeen:!0},{user:{userid:"1927",username:"alice"},msg:"has liked your post",notifType:"like",time:"3min ago",isSeen:!0},{user:{userid:"1927",username:"jack"},msg:"has liked your post",notifType:"like",time:"1min ago",isSeen:!1},{user:{userid:"1927",username:"jack"},msg:"has liked your post",notifType:"like",time:"1min ago",isSeen:!1}].map((e,t)=>(0,a.jsx)(z,{notification:e},t))})]})}var P=s(7334),E=s(8843),T=s(891),B=s(3014),M=s(5554),D=s(5567),L=s.n(D);function R({singlePost:e}){let t=e.data.owner,s=e.data.repost,l=e.data.caption,[n,r]=(0,o.useState)(!1),[i,c]=(0,o.useState)(!1),[d,m]=(0,o.useState)(e.data.repost?.data?.caption.split(" ").slice(0,14).join(" ")),[u,f]=(0,o.useState)(!1),[p,h]=(0,o.useState)(e.data.caption.split(" ").slice(0,20).join(" ")),[x,_]=(0,o.useState)(!1),g=e=>{let t=Intl.NumberFormat("en",{notation:"compact"});return e?t.format(e):0},[j,y]=(0,o.useState)(0);return(0,a.jsxs)("div",{className:"w-[98%] flex flex-col gap-3 border-b border-[#161616] border-b-1 p-5 pl-2 pr-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("div",{className:"h-11 w-11 flex items-center justify-center rounded-full bg-[rgba(106,105,254,0.125)] text-[#6a69fe] font-bold",children:t?.name[0].toUpperCase()}),(0,a.jsxs)("div",{className:"flex flex-col text-left",children:[(0,a.jsx)("span",{className:"text-[15px]",style:{textOverflow:"ellipsis",overflow:"hidden",minWidth:"99%",whiteSpace:"nowrap"},children:t?.name}),(0,a.jsxs)("small",{className:"text-[#818181]",children:[e.data.location," ",e.data.location&&"•"," ",(0,b.A)(e.created_at)]})]})]}),(0,a.jsx)("div",{className:"flex gap-1",children:(0,a.jsx)(P.A,{color:"#535353"})})]}),(0,a.jsxs)("p",{className:`text-left ${s.repost?null:"m-1"} ml-13`,style:{wordBreak:"break-word"},children:[u?l:p,l.split(" ").length>20&&(0,a.jsx)("strong",{onClick:()=>f(!u),className:"ml-2 text-[#6a69fe] cursor-pointer",children:u?"See less":"See more"})]}),s.repost?(0,a.jsxs)("div",{className:"flex flex-col border rounded-3xl p-3 border-[#262626] gap-2 bg-[#131313]",style:{wordBreak:"break-word"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center h-8 w-8 bg-red-500 text-white rounded-full",children:s.data.user.profile}),(0,a.jsx)("span",{className:"font-bold",children:s.data.user.name}),"•",(0,a.jsxs)("span",{className:"text-[#818181]",children:["@",s.data.user.username]})]}),(0,a.jsxs)("span",{className:"text-start ml-3",children:[i?s.data.caption:d,(0,a.jsx)("strong",{onClick:()=>c(!i),className:"ml-2 text-[#6a69fe] cursor-pointer",children:i?"See less":"See more"})]})]}):null,(0,a.jsxs)("div",{className:"relative flex gap-5 ml-13 text-[#c5c5c5]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 h-5",children:[(0,a.jsx)(E.A,{size:22,fill:n?"#6a69fe3a":"",color:n?"#6a69fe":"#c5c5c5",onClick:()=>{r(e=>!e),y(e=>n?e-1:e+1)},onContextMenu:()=>{_(e=>!e)}}),(0,a.jsx)("span",{className:"p-0",children:g(j||3982)||"58"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 h-5",children:[(0,a.jsx)(T.A,{size:20}),(0,a.jsx)("span",{className:"p-0",children:g(1900)||""})]}),(0,a.jsx)(B.A,{size:20}),(0,a.jsx)(M.A,{size:20}),x?(0,a.jsx)("div",{className:`w-auto absolute bottom-[30px] h-10 pl-4 pr-4 border border-[#323232] p-2 flex items-center gap-5 bg-[#262626] ml-7 scale-1.5 overflow-hidden ${L().width}`,style:{borderRadius:50},children:["\uD83D\uDE02","\uD83D\uDE32","\uD83D\uDE1E","\uD83D\uDE21","\uD83D\uDE02","\uD83D\uDE02","\uD83D\uDE02"].map((e,t)=>(0,a.jsx)("span",{style:{transform:"scale(1.5)"},children:e},t))}):null]})]})}var U=s(5184),O=s.n(U);function $(){return(0,a.jsxs)("div",{className:`w-[98%] flex flex-col gap-3 p-5 pl-2 pr-2 ${O().fade}`,children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"h-12 w-12 flex items-center justify-center rounded-full bg-[#1d1d1d] text-[#6a69fe]"}),(0,a.jsxs)("div",{className:"flex flex-col text-left justify-center gap-2",children:[(0,a.jsx)("div",{className:"w-40 h-3 rounded-full bg-[#1d1d1d]"}),(0,a.jsx)("div",{className:"w-20 h-3 rounded-full bg-[#1d1d1d]"})]})]})}),(0,a.jsx)("div",{className:"w-[86%] h-3 rounded-full bg-[#1d1d1d] ml-3"}),(0,a.jsx)("div",{className:"w-[60%] h-3 rounded-full bg-[#1d1d1d] ml-3"}),(0,a.jsx)("div",{className:"w-[70%] h-3 rounded-full bg-[#1d1d1d] ml-3"}),(0,a.jsxs)("div",{className:"flex gap-5 ml-2 text-[#c5c5c5]",children:[(0,a.jsx)("div",{className:"flex items-center bg-[#1d1d1d] w-5 h-5 rounded-full"}),(0,a.jsx)("div",{className:"flex items-center bg-[#1d1d1d] w-5 h-5 rounded-full"}),(0,a.jsx)("div",{className:"flex items-center bg-[#1d1d1d] w-5 h-5 rounded-full"})]})]})}var F=s(7165),G=s(5259),J=s.n(G),W=s(1831),H=s(1364),K=s(1031),X=s(3208),q=s(3446),V=s(4633),Y=s(2988),Q=s.n(Y);function Z(e){let t,s,n,o,r,i,c,d,m,u,f,p=(0,l.c)(27),{title:h,msg:x,onCancel:_,onSubmit:g,onClose:b,cancel_button_text:j,submit_button_text:y,cancel:v}=e;p[0]===Symbol.for("react.memo_cache_sentinel")?(t={fontSize:"30px",margin:"15px 0 0 0",color:"#6a69fe",fontWeight:"bold"},p[0]=t):t=p[0],p[1]!==h?(s=(0,a.jsx)("strong",{style:t,children:h}),p[1]=h,p[2]=s):s=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(n={margin:"10px 0 15px 0",padding:"0 15px"},p[3]=n):n=p[3],p[4]!==x?(o=(0,a.jsx)("span",{style:n,children:x}),p[4]=x,p[5]=o):o=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(r={display:"flex"},p[6]=r):r=p[6],p[7]!==v||p[8]!==j||p[9]!==_?(i=v?(0,a.jsx)("button",{onClick:()=>{"function"==typeof _&&_()},className:"w-[50%] h-13 border-0 border-r-1 border-[#262626] active:bg-[#262626] font-bold",children:j&&v?j:"Cancel"}):null,p[7]=v,p[8]=j,p[9]=_,p[10]=i):i=p[10],p[11]!==g?(c=()=>{"function"==typeof g&&g()},p[11]=g,p[12]=c):c=p[12];let N=`${v?"w-[50%]":"w-full"} h-13 border-0 ${v?"border-l-1":""} border-[#262626] active:bg-[#262626] text-[#6a69fe] font-bold`,S=y||"Ok";return p[13]!==c||p[14]!==N||p[15]!==S?(d=(0,a.jsx)("button",{onClick:c,className:N,children:S}),p[13]=c,p[14]=N,p[15]=S,p[16]=d):d=p[16],p[17]!==d||p[18]!==i?(m=(0,a.jsxs)("div",{className:"w-full flex items-center justify-between border-0 border-t-2 border-[#262626]",style:r,children:[i,d]}),p[17]=d,p[18]=i,p[19]=m):m=p[19],p[20]!==m||p[21]!==s||p[22]!==o?(u=(0,a.jsxs)("div",{onClick:ee,className:Q().msgBox,children:[s,o,m]}),p[20]=m,p[21]=s,p[22]=o,p[23]=u):u=p[23],p[24]!==b||p[25]!==u?(f=(0,a.jsx)("div",{onClick:b,className:Q().blur,children:u}),p[24]=b,p[25]=u,p[26]=f):f=p[26],f}function ee(e){return e.stopPropagation()}var et=s(7519),es=s.n(et);function ea(){let e,t,s,n,o,r=(0,l.c)(5);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",alignItems:"center",height:"83%",width:"100%",top:"60px",position:"fixed",borderRadius:"10px",backgroundColor:"transparent",zIndex:0x1747cd5d38},t={display:"flex",justifyContent:"center",alignItems:"center",height:"100px",width:"100px",borderRadius:"20px",backgroundColor:"rgba(0,0,0,0.5)",backDropFilter:"blur(100px)",border:"1px solid #111111"},r[0]=e,r[1]=t):(e=r[0],t=r[1]),r[2]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",gap:10,justifyContent:"center",alignItems:"center"},r[2]=s):s=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{className:es().loader,style:{padding:10,backgroundColor:"#6a69fe",borderRadius:50}}),r[3]=n):n=r[3],r[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)("div",{className:es().main,style:e,children:(0,a.jsx)("div",{style:t,children:(0,a.jsxs)("div",{className:es().load,style:s,children:[n,(0,a.jsx)("div",{className:es().loader,style:{backgroundColor:"#6a69fe",padding:10,borderRadius:50}})]})})}),r[4]=o):o=r[4],o}var el=s(9857),en=s.n(el),eo=s(2428),er=s(173),ei=s(5364);let ec=new er.uK(ei.env.NEXT_PUBLIC_GIPHY_API_KEY||"fallback_key");function ed(e){let t,s,n,r,i,c,d,m,u,f,p,h,x=(0,l.c)(24),{onSelect:_,onClose:g}=e,[b,j]=(0,o.useState)(""),[y,v]=(0,o.useState)(0);x[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{v(window.innerWidth-32)},s=[],x[0]=t,x[1]=s):(t=x[0],s=x[1]),(0,o.useEffect)(t,s),x[2]!==b?(n=e=>b?ec.search(b,{offset:e,limit:20}):ec.trending({offset:e,limit:20}),x[2]=b,x[3]=n):n=x[3];let N=n;return x[4]===Symbol.for("react.memo_cache_sentinel")?(r={paddingBottom:"max(20px, env(safe-area-inset-bottom))"},x[4]=r):r=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(i=e=>j(e.target.value),x[5]=i):i=x[5],x[6]!==b?(c=(0,a.jsx)("input",{type:"text",placeholder:"Search GIFs...",value:b,onChange:i,className:"flex-1 p-3 bg-gray-800 rounded-full text-white mr-2"}),x[6]=b,x[7]=c):c=x[7],x[8]!==g?(d=(0,a.jsx)("button",{onClick:g,className:"text-white text-2xl",children:"\xd7"}),x[8]=g,x[9]=d):d=x[9],x[10]!==c||x[11]!==d?(m=(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[c,d]}),x[10]=c,x[11]=d,x[12]=m):m=x[12],x[13]===Symbol.for("react.memo_cache_sentinel")?(u={height:"350px",width:"100%",overflow:"scroll"},x[13]=u):u=x[13],x[14]!==N||x[15]!==g||x[16]!==_||x[17]!==y?(f=y>0&&(0,a.jsx)(eo.xA,{width:y,columns:3,gutter:8,hideAttribution:!1,fetchGifs:N,onGifClick:e=>{_(e.images.downsized.url),g()}}),x[14]=N,x[15]=g,x[16]=_,x[17]=y,x[18]=f):f=x[18],x[19]!==f?(p=(0,a.jsx)("div",{style:u,children:f}),x[19]=f,x[20]=p):p=x[20],x[21]!==p||x[22]!==m?(h=(0,a.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#1d1d1d] rounded-t-3xl p-4",style:r,onClick:em,children:[m,p]}),x[21]=p,x[22]=m,x[23]=h):h=x[23],h}function em(e){return e.stopPropagation()}var eu=s(1849);function ef(e){let t,s,n,r,i=(0,l.c)(4);return(0,o.useState)(""),i[0]===Symbol.for("react.memo_cache_sentinel")?(t={paddingBottom:"max(20px, env(safe-area-inset-bottom))"},i[0]=t):t=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("h1",{className:"text-center text-2xl font-bold mb-3 mt-1",children:"Stickers"}),i[1]=s):s=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3 overflow-scroll border-0 border-t-1 border-[#262626]",children:eu.x?.flaticon_stickers?.animals.map(ep)}),i[2]=n):n=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)("div",{className:`fixed bottom-5 w-[95%] z-50 bg-[#1d1d1d] rounded-3xl p-4 h-[60%] overflow-scroll flex flex-col items-center ${L().trans}`,style:t,onClick:eh,children:[s,n,(0,a.jsx)("div",{className:"w-full h-8 border-0 border-t-1 border-[#262626] p-2",children:(0,a.jsx)("img",{src:eu.x.flaticon_stickers.animals[0],alt:"",style:{width:30,height:30}})})]}),i[3]=r):r=i[3],r}function ep(e,t){return(0,a.jsx)("img",{src:e,alt:"",className:"w-25 h-auto active:bg-[#262626] p-3 rounded-2xl"},t)}function eh(e){return e.stopPropagation()}new er.uK("Gl7xV9jX1nUXtA0v1k2d3f4g5h6j8k9l");var ex=s(2939),e_=s(7487);function eg(e){let t,s,n,r,i,c,d,m,u=(0,l.c)(15),{onClose:f}=e;u[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],u[0]=t):t=u[0];let[p,h]=(0,o.useState)(t);u[1]!==f?(s=e=>{f(e)},u[1]=f,u[2]=s):s=u[2];let g=s;u[3]===Symbol.for("react.memo_cache_sentinel")?(n=[{country:"Poland",capital:"Warsaw"},{country:"Germany",capital:"Berlin"},{country:"France",capital:"Paris"},{country:"United States",capital:"Washington, D.C."},{country:"Japan",capital:"Tokyo"},{country:"Canada",capital:"Ottawa"},{country:"Australia",capital:"Canberra"},{country:"United Kingdom",capital:"London"},{country:"Italy",capital:"Rome"},{country:"Spain",capital:"Madrid"},{country:"Brazil",capital:"Bras\xedlia"},{country:"Russia",capital:"Moscow"},{country:"China",capital:"Beijing"},{country:"India",capital:"New Delhi"},{country:"Mexico",capital:"Mexico City"},{country:"Argentina",capital:"Buenos Aires"},{country:"South Korea",capital:"Seoul"},{country:"Netherlands",capital:"Amsterdam"},{country:"Sweden",capital:"Stockholm"},{country:"Norway",capital:"Oslo"},{country:"Denmark",capital:"Copenhagen"},{country:"Finland",capital:"Helsinki"},{country:"Switzerland",capital:"Bern"},{country:"Austria",capital:"Vienna"},{country:"Belgium",capital:"Brussels"},{country:"Ireland",capital:"Dublin"},{country:"New Zealand",capital:"Wellington"},{country:"South Africa",capital:"Pretoria"},{country:"Egypt",capital:"Cairo"},{country:"Nigeria",capital:"Abuja"},{country:"Kenya",capital:"Nairobi"},{country:"Turkey",capital:"Ankara"},{country:"Greece",capital:"Athens"},{country:"Portugal",capital:"Lisbon"},{country:"Ireland",capital:"Dublin"},{country:"Chile",capital:"Santiago"},{country:"Colombia",capital:"Bogot\xe1"},{country:"Peru",capital:"Lima"},{country:"Venezuela",capital:"Caracas"}],u[3]=n):n=u[3];let b=n;return u[4]!==g?(r=(0,a.jsx)(_.A,{title:"Locations",left:(0,a.jsx)(e_.A,{onClick:()=>g("close")})}),u[4]=g,u[5]=r):r=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsxs)("div",{className:"flex items-center justify-evenly w-full pb-5",children:[(0,a.jsx)("input",{type:"text",className:"p-2 pr-3 pl-5 rounded-full bg-[#1d1d1d] outline-0 border-0",placeholder:"Search location...",style:{width:"80%"},onChange:e=>{h(b.filter(t=>t.country.startsWith(e.target.value)))}}),(0,a.jsx)(x.A,{})]}),u[6]=i):i=u[6],u[7]!==g||u[8]!==p?(c=p.length?p.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>g(e.capital),className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-bold text-[18px]",children:e.country}),(0,a.jsxs)("span",{className:"text-[darkgray]",children:["• ",e.capital]})]},t)):b.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>g(e.capital),className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-bold text-[18px]",children:e.country}),(0,a.jsxs)("span",{className:"text-[darkgray]",children:["• ",e.capital]})]},t)),u[7]=g,u[8]=p,u[9]=c):c=u[9],u[10]!==c?(d=(0,a.jsx)("div",{className:"w-full p-4 pt-0 flex flex-col gap-2 overflow-scroll flex-1",children:c}),u[10]=c,u[11]=d):d=u[11],u[12]!==r||u[13]!==d?(m=(0,a.jsxs)("div",{className:`w-screen h-full bg-[#0f0f0f] flex flex-col items-center bottom-0 fixed z-1000 ${L().trans}`,children:[r,i,d]}),u[12]=r,u[13]=d,u[14]=m):m=u[14],m}var eb=s(1085);function ej(e){let t,s,n,r,i,c,d,m,u,f,p,h,x,g,b=(0,l.c)(28),{onClose:j,initialValue:y}=e;(0,o.useState)("");let[v,N]=(0,o.useState)(!1),[S,w]=(0,o.useState)(!0==y?1:2);b[0]!==v||b[1]!==j||b[2]!==S?(t=()=>v&&1==S?j(!0):v&&2==S?j(!1):void 0,b[0]=v,b[1]=j,b[2]=S,b[3]=t):t=b[3],b[4]!==S?(s=[S],b[4]=S,b[5]=s):s=b[5],(0,o.useEffect)(t,s),b[6]!==y||b[7]!==j?(n=(0,a.jsx)(_.A,{title:"Allow repost",left:(0,a.jsx)(e_.A,{onClick:()=>j(y)})}),b[6]=y,b[7]=j,b[8]=n):n=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)("span",{className:"p-4 pt-2 flex items-center gap-3 text-[darkgray]",children:[(0,a.jsx)(eb.A,{}),"Allow whether your post to be reposted by other users."]}),b[9]=r):r=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{w(1),N(!0)},b[10]=i):i=b[10];let k=`w-3 h-3 rounded-full outline-2 outline-offset-2 ${1==S&&"outline-[#6a69fe] bg-[#6a69fe]"}`;b[11]!==k?(c=(0,a.jsx)("div",{className:k}),b[11]=k,b[12]=c):c=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("span",{children:"Yes"}),b[13]=d):d=b[13],b[14]!==c?(m=(0,a.jsxs)("div",{onClick:i,className:"flex items-center gap-3",children:[c,d]}),b[14]=c,b[15]=m):m=b[15],b[16]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{w(2),N(!0)},b[16]=u):u=b[16];let C=`w-3 h-3 rounded-full outline-2 outline-offset-2 ${2==S&&"outline-[#6a69fe] bg-[#6a69fe]"}`;return b[17]!==C?(f=(0,a.jsx)("div",{className:C}),b[17]=C,b[18]=f):f=b[18],b[19]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)("span",{children:"No"}),b[19]=p):p=b[19],b[20]!==f?(h=(0,a.jsxs)("div",{onClick:u,className:"flex items-center gap-3",children:[f,p]}),b[20]=f,b[21]=h):h=b[21],b[22]!==h||b[23]!==m?(x=(0,a.jsxs)("div",{className:"w-full flex flex-col p-5 gap-4",children:[m,h]}),b[22]=h,b[23]=m,b[24]=x):x=b[24],b[25]!==x||b[26]!==n?(g=(0,a.jsxs)("div",{className:`w-full h-full bottom-0 fixed bg-[#0f0f0f] flex flex-col items-center ${L().trans} z-10`,children:[n,r,x]}),b[25]=x,b[26]=n,b[27]=g):g=b[27],g}function ey(e){let t,s,n,r,i,c,d,m,u,f,p,h,x,g,b,j,y,v,N,S,w,C,A,z,I,P,T,B,D,L,R,U,O,$,F,G,J,Y,Q,ee,et,es,el,eo,er,ei,ec,em,eu,ep,eh,e_,eb,ey,ek,eC,eA,ez=(0,l.c)(124),{onClose:eI}=e,eP=(0,o.useRef)(null);ez[0]!==eI?(t=()=>{let e=eP.current;e&&e.classList.add(en().removeBody),setTimeout(()=>eI(!0),260)},ez[0]=eI,ez[1]=t):t=ez[1];let eE=t;ez[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],ez[2]=s):s=ez[2];let[eT,eB]=(0,o.useState)(s),[eM,eD]=(0,o.useState)(!1),[eL,eR]=(0,o.useState)(!1),[eU,eO]=(0,o.useState)(""),[e$,eF]=(0,o.useState)("");(0,o.useState)("");let[eG]=(0,o.useState)(2),[eJ,eW]=(0,o.useState)(!1);ez[3]===Symbol.for("react.memo_cache_sentinel")?(n={},ez[3]=n):n=ez[3];let[eH,eK]=(0,o.useState)(n);(0,o.useState)(!1);let[eX,eq]=(0,o.useState)(!1);(0,o.useState)(!1);let{remove:eV}=k(),[eY,eQ]=(0,o.useState)(!0),[eZ,e0]=(0,o.useState)(!1),[e1,e2]=(0,o.useState)(!1),[e3,e5]=(0,o.useState)(""),[e6,e4]=(0,o.useState)(!1),[e9,e8]=(0,o.useState)("");(0,o.useState)("");let[e7,te]=(0,o.useState)(""),[tt,ts]=(0,o.useState)(!1),[ta,tl]=(0,o.useState)(!1);(0,o.useState)(""),(0,o.useState)(""),ez[4]===Symbol.for("react.memo_cache_sentinel")?(r={},ez[4]=r):r=ez[4];let[tn,to]=(0,o.useState)(r),tr=(0,o.useRef)(null);ez[5]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{let e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("token"));e&&(to(e),e8(t))},c=[],ez[5]=i,ez[6]=c):(i=ez[5],c=ez[6]),(0,o.useEffect)(i,c),ez[7]===Symbol.for("react.memo_cache_sentinel")?(d=[{code:"en",name:"English"},{code:"zh",name:"普通话 / 汉语"},{code:"hi",name:"हिन्दी"},{code:"es",name:"Espa\xf1ol"},{code:"fr",name:"Fran\xe7ais"},{code:"ar",name:"العربية"},{code:"bn",name:"বাংলা"},{code:"ru",name:"Русский"},{code:"pt",name:"Portugu\xeas"},{code:"ur",name:"اردو"},{code:"id",name:"Bahasa Indonesia"},{code:"de",name:"Deutsch"},{code:"ja",name:"日本語"},{code:"sw",name:"Kiswahili"},{code:"mr",name:"मराठी"},{code:"te",name:"తెలుగు"},{code:"tr",name:"T\xfcrk\xe7e"},{code:"ta",name:"தமிழ்"},{code:"vi",name:"Tiếng Việt"},{code:"ko",name:"한국어"}],ez[7]=d):d=ez[7];let ti=d;ez[8]===Symbol.for("react.memo_cache_sentinel")?(m=[],ez[8]=m):m=ez[8],(0,o.useEffect)(ew,m),ez[9]!==eT.length?(u=async e=>{let t=Array.from(e.target.files);if(eT.length>10)return await Toast.show({text:"You can only select up to 10 images.",duration:"long",position:"bottom"});t&&eB(e=>[...new Set([...e,...t])].slice(0,10))},ez[9]=eT.length,ez[10]=u):u=ez[10];let tc=u;ez[11]!==eG||ez[12]!==eU||ez[13]!==eT||ez[14]!==e3||ez[15]!==eI||ez[16]!==e$||ez[17]!==eV||ez[18]!==eY||ez[19]!==e7||ez[20]!==e9?(f=async()=>{if(!e$)return;eD(!0);let e=ti.find(e=>e.name==e7)?.code||"eng",t=new FormData;t.append("category",eU),t.append("age_rate",eG),t.append("lang",e),t.append("caption",e$),t.append("location",e3),t.append("repost_allowance",eY),eT.length&&eT.forEach(e=>{t.append("files",e)});let s=await fetch("http://localhost:4000/api/post/create_post",{method:"POST",headers:{token:e9},body:t});if(!s.ok){eW(!0),eK({title:"Error",msg:"An error occured, check your network connection and try again."}),eD(!1);return}s.ok&&(eD(!1),eI("close"),eV("posts"))},ez[11]=eG,ez[12]=eU,ez[13]=eT,ez[14]=e3,ez[15]=eI,ez[16]=e$,ez[17]=eV,ez[18]=eY,ez[19]=e7,ez[20]=e9,ez[21]=f):f=ez[21];let td=f;ez[22]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{let e=tr?.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},ez[22]=p):p=ez[22];let tm=p;ez[23]===Symbol.for("react.memo_cache_sentinel")?(h=()=>tm(),ez[23]=h):h=ez[23],ez[24]!==e9?(x=[e9],ez[24]=e9,ez[25]=x):x=ez[25],(0,o.useEffect)(h,x),ez[26]===Symbol.for("react.memo_cache_sentinel")?(g=["Relatable","Dark Humor","Surreal / Absurd","Dank Memes","Wholesome Memes","Sarcasm / Satire","Puns / Wordplay","Fails / Epic Fails","Reaction Memes","Animal Humor","Work Humor","School / Student Life","Pop Culture Memes","Movie Memes","Gaming Humor","Social Media Humor"],ez[26]=g):g=ez[26];let tu=g;ez[27]===Symbol.for("react.memo_cache_sentinel")?(b={marginTop:"100px",zIndex:1e4,overflow:"scroll",paddingBottom:100},ez[27]=b):b=ez[27],ez[28]===Symbol.for("react.memo_cache_sentinel")?(j={fontSize:30},ez[28]=j):j=ez[28],ez[29]!==eE?(y=(0,a.jsx)(_.A,{left:(0,a.jsx)("span",{style:j,onClick:eE,children:"\xd7"}),title:"Create post"}),ez[29]=eE,ez[30]=y):y=ez[30],ez[31]!==eM?(v=eM?(0,a.jsx)(ea,{}):"",ez[31]=eM,ez[32]=v):v=ez[32],ez[33]!==e1?(N=e1&&(0,a.jsx)(eg,{onClose:e=>{e2(!1),e&&"close"!==e&&e5(e)}}),ez[33]=e1,ez[34]=N):N=ez[34],ez[35]!==eY||ez[36]!==eZ?(S=eZ&&(0,a.jsx)(ej,{initialValue:eY,onClose:e=>{e0(!1),"close"!==e&&eQ(e)}}),ez[35]=eY,ez[36]=eZ,ez[37]=S):S=ez[37],ez[38]!==eJ||ez[39]!==eH?(w=eJ&&eH.title?(0,a.jsx)(Z,{msg:eH.msg,title:eH.title,actions:[(0,a.jsx)("span",{onClick:()=>eW(!1),children:"Ok"})]}):"",ez[38]=eJ,ez[39]=eH,ez[40]=w):w=ez[40],ez[41]!==e6?(C=e6&&(0,a.jsx)("div",{className:`fixed bottom-0 left-0 right-0 ${en().emoEmojiPicker} z-50 w-[100%] flex items-center justify-center`,style:{padding:"8px",paddingBottom:"max(8px, env(safe-area-inset-bottom))"},onClick:eS,children:(0,a.jsx)(ex.Ay,{onEmojiClick:e=>{eF(t=>t+e.emoji),tm()},theme:"dark",height:350,width:"100%",searchDisabled:!0,skinTonesDisabled:!0,previewConfig:{showPreview:!1}})}),ez[41]=e6,ez[42]=C):C=ez[42],ez[43]!==tt?(A=tt&&(0,a.jsx)(ed,{onSelect:e=>{eB(t=>[...t,{url:e,type:"gif"}])},onClose:()=>ts(!1)}),ez[43]=tt,ez[44]=A):A=ez[44],ez[45]!==ta?(z=ta&&(0,a.jsx)(ef,{onSelect:e=>{eB(t=>[...t,{url:e,type:"sticker"}])},onClose:()=>tl(!1)}),ez[45]=ta,ez[46]=z):z=ez[46],ez[47]!==eU||ez[48]!==eL?(I=eL?(0,a.jsx)("div",{className:en().cateBlur,children:(0,a.jsxs)("div",{className:en().box,children:[(0,a.jsx)("h3",{className:en().h3,children:"Choose a category"}),(0,a.jsx)("div",{className:en().cateList,children:tu.map(e=>(0,a.jsxs)("span",{onClick:()=>{eO(e),eR(!1)},className:en().cate,children:[e,eU==e?(0,a.jsx)("div",{className:en().actualCate}):""]}))}),(0,a.jsx)("button",{onClick:()=>eR(!1),className:en().closeB,children:"Close"})]})}):"",ez[47]=eU,ez[48]=eL,ez[49]=I):I=ez[49],ez[50]!==eX||ez[51]!==e7?(P=eX?(0,a.jsx)("div",{className:en().cateBlur,children:(0,a.jsxs)("div",{className:en().box,children:[(0,a.jsx)("h3",{className:en().h3,children:"Choose a language"}),(0,a.jsx)("div",{className:en().cateList,children:ti.map((e,t)=>(0,a.jsxs)("span",{onClick:()=>{te(e.name),eq(!1)},className:en().cate,children:[e.name,e7==e.name?(0,a.jsx)("div",{className:en().actualCate}):""]}))}),(0,a.jsx)("button",{onClick:()=>eq(!1),className:en().closeB,children:"Close"})]})}):"",ez[50]=eX,ez[51]=e7,ez[52]=P):P=ez[52],ez[53]===Symbol.for("react.memo_cache_sentinel")?(T=(0,a.jsx)("div",{className:"h-8 w-8 bg-red-500 rounded-full flex items-center justify-center",children:"M"}),ez[53]=T):T=ez[53],ez[54]!==tn.username?(B=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[T,(0,a.jsx)("span",{children:tn.username})]}),ez[54]=tn.username,ez[55]=B):B=ez[55],ez[56]===Symbol.for("react.memo_cache_sentinel")?(D=()=>e4(!1),L=e=>{tm(),eF(e.target.value)},ez[56]=D,ez[57]=L):(D=ez[56],L=ez[57]),ez[58]===Symbol.for("react.memo_cache_sentinel")?(R={border:"none",borderLeft:"2px solid #373737",outline:"none",resize:"none"},ez[58]=R):R=ez[58],ez[59]!==e$?(U=(0,a.jsx)("textarea",{ref:tr,value:e$,autoFocus:!0,onFocus:D,onInput:L,className:"w-[90%] ml-3.5 border-0 p-2 pl-4",placeholder:"Write something...",cols:1,rows:1,style:R}),ez[59]=e$,ez[60]=U):U=ez[60],ez[61]!==e6?(O=e6?(0,a.jsx)(W.A,{size:20,onClick:()=>e4(!1)}):(0,a.jsx)(E.A,{size:20,onClick:()=>{e4(eN),tl(!1),ts(!1)}}),ez[61]=e6,ez[62]=O):O=ez[62],ez[63]!==ta?($=ta?(0,a.jsx)(W.A,{size:20,onClick:()=>tl(!1)}):(0,a.jsx)(H.A,{size:20,onClick:()=>{tl(!0),e4(!1),ts(!1)}}),ez[63]=ta,ez[64]=$):$=ez[64],ez[65]!==tt?(F=tt?(0,a.jsx)(W.A,{size:20,onClick:()=>{ts(!1)}}):(0,a.jsx)("span",{className:"font-bold text-[16px] p-0 m-0 h-5 flex items-center",onClick:()=>{ts(!tt),tl(!1),e4(!1)},children:"GIF"}),ez[65]=tt,ez[66]=F):F=ez[66],ez[67]!==O||ez[68]!==$||ez[69]!==F?(G=(0,a.jsxs)("div",{className:"flex items-center gap-4 pl-1",children:[O,$,F]}),ez[67]=O,ez[68]=$,ez[69]=F,ez[70]=G):G=ez[70],ez[71]!==B||ez[72]!==U||ez[73]!==G?(J=(0,a.jsxs)("div",{className:"mt-5 w-[87%] flex flex-col gap-2",children:[B,U,G]}),ez[71]=B,ez[72]=U,ez[73]=G,ez[74]=J):J=ez[74],ez[75]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,a.jsxs)("span",{className:en().subMedia,children:[(0,a.jsx)(K.A,{size:20}),"Add images"]}),ez[75]=Y):Y=ez[75];let tf=eT?.length;ez[76]!==tf?(Q=(0,a.jsxs)("small",{className:en().small,children:[tf,"/10"]}),ez[76]=tf,ez[77]=Q):Q=ez[77],ez[78]!==tc?(ee=(0,a.jsx)("form",{action:"",method:"",encType:"multipart/form-data",acceptCharset:"utf-8",onSubmit:ev,className:en().inputImage,children:(0,a.jsx)("input",{onChange:tc,accept:"image/*",multiple:!0,type:"file",name:"files"})}),ez[78]=tc,ez[79]=ee):ee=ez[79],ez[80]!==Q||ez[81]!==ee?(et=(0,a.jsxs)("div",{className:en().media,children:[Y,Q,ee]}),ez[80]=Q,ez[81]=ee,ez[82]=et):et=ez[82],ez[83]!==eT?(es=eT.length>=1?(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",gap:10,overflowX:"scroll",whiteSpace:"nowrap"},children:eT.map(e=>{let t=URL.createObjectURL(e);return(0,a.jsxs)("div",{style:{position:"relative",flexShrink:0},children:[(0,a.jsx)("span",{onClick:()=>{eB(t=>t.filter(t=>t!=e))},style:{position:"absolute",top:6,right:6,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:50,border:"0.5px solid #262626",backgroundColor:"#1d1d1d"},children:"\xd7"}),(0,a.jsx)("img",{className:en().postImg,src:t})]})})}):"",ez[83]=eT,ez[84]=es):es=ez[84],ez[85]===Symbol.for("react.memo_cache_sentinel")?(el=()=>eR(!0),ez[85]=el):el=ez[85],ez[86]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,a.jsxs)("span",{className:en().subMedia,children:[(0,a.jsx)(X.A,{size:20}),"Add a category"]}),ez[86]=eo):eo=ez[86];let tp=eU||"•••";ez[87]!==tp?(er=(0,a.jsxs)("div",{onClick:el,className:en().media,children:[eo,(0,a.jsx)("small",{className:en().small,children:tp})]}),ez[87]=tp,ez[88]=er):er=ez[88],ez[89]===Symbol.for("react.memo_cache_sentinel")?(ei=()=>eq(!0),ez[89]=ei):ei=ez[89],ez[90]===Symbol.for("react.memo_cache_sentinel")?(ec=(0,a.jsxs)("span",{className:en().subMedia,children:[(0,a.jsx)(q.A,{size:20}),"Languages"]}),ez[90]=ec):ec=ez[90];let th=e7||"•••";ez[91]!==th?(em=(0,a.jsxs)("div",{onClick:ei,className:en().media,children:[ec,(0,a.jsx)("small",{className:en().small,children:th})]}),ez[91]=th,ez[92]=em):em=ez[92],ez[93]===Symbol.for("react.memo_cache_sentinel")?(eu=()=>e0(!0),ez[93]=eu):eu=ez[93],ez[94]===Symbol.for("react.memo_cache_sentinel")?(ep=(0,a.jsxs)("span",{className:en().subMedia,children:[(0,a.jsx)(M.A,{size:20}),"Allow repost"]}),ez[94]=ep):ep=ez[94];let tx=eY?"Repost allowed":"Repost not allowed";ez[95]!==tx?(eh=(0,a.jsxs)("div",{onClick:eu,className:en().media,children:[ep,(0,a.jsx)("small",{className:en().small,children:tx})]}),ez[95]=tx,ez[96]=eh):eh=ez[96],ez[97]===Symbol.for("react.memo_cache_sentinel")?(e_=()=>e2(!0),ez[97]=e_):e_=ez[97],ez[98]===Symbol.for("react.memo_cache_sentinel")?(eb=(0,a.jsxs)("span",{className:en().subMedia,children:[(0,a.jsx)(V.A,{size:20}),"Location"]}),ez[98]=eb):eb=ez[98];let t_=e3||"•••";return ez[99]!==t_?(ey=(0,a.jsxs)("div",{onClick:e_,className:en().media,children:[eb,(0,a.jsx)("small",{className:en().small,children:t_})]}),ez[99]=t_,ez[100]=ey):ey=ez[100],ez[101]!==et||ez[102]!==es||ez[103]!==er||ez[104]!==em||ez[105]!==eh||ez[106]!==ey?(ek=(0,a.jsxs)("div",{className:en().mediaDiv,children:[et,es,er,em,eh,ey]}),ez[101]=et,ez[102]=es,ez[103]=er,ez[104]=em,ez[105]=eh,ez[106]=ey,ez[107]=ek):ek=ez[107],ez[108]!==td?(eC=(0,a.jsx)("button",{onClick:td,className:en().postButton,children:"Post"}),ez[108]=td,ez[109]=eC):eC=ez[109],ez[110]!==y||ez[111]!==v||ez[112]!==N||ez[113]!==S||ez[114]!==w||ez[115]!==C||ez[116]!==A||ez[117]!==z||ez[118]!==I||ez[119]!==P||ez[120]!==J||ez[121]!==ek||ez[122]!==eC?(eA=(0,a.jsxs)("div",{ref:eP,style:b,className:en().body,children:[y,v,N,S,w,C,A,z,I,P,J,ek,eC]}),ez[110]=y,ez[111]=v,ez[112]=N,ez[113]=S,ez[114]=w,ez[115]=C,ez[116]=A,ez[117]=z,ez[118]=I,ez[119]=P,ez[120]=J,ez[121]=ek,ez[122]=eC,ez[123]=eA):eA=ez[123],eA}function ev(){return""}function eN(e){return!e}function eS(e){return e.stopPropagation()}function ew(){}function ek(e){let t,s,n,o,r=(0,l.c)(6),{onClose:i}=e;return r[0]!==i?(t=()=>i(),r[0]=i,r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("p",{className:"text-3xl font-bold w-full p-3 text-center text-[#6a69fe]",children:"Filter"}),r[2]=s):s=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsxs)("div",{onClick:eA,className:`w-full h-[55%] bg-[#0f0f0f] rounded-t-4xl fixed bottom-10 flex items-center justify-between flex-col ${L().trans3}`,children:[s,(0,a.jsx)("div",{className:"flex-1 border border-t-0.5 border-[#1d1d1d] border-b-0 border-l-0 border-r-0 w-full flex flex-col items-start gap-2 p-3 pl-4 overflow-scroll",children:["Memes (default)","Politics","Gaming","Programming","Life","Space","Humans","Animals","Food","Cars","Vehicle"].map(eC)})]}),r[3]=n):n=r[3],r[4]!==t?(o=(0,a.jsx)("div",{className:"flex items-center flex-col w-screen h-screen fixed bottom-0 z-50 bg-[#ffffff22]",onClick:t,children:n}),r[4]=t,r[5]=o):o=r[5],o}function eC(e,t){return(0,a.jsxs)("span",{className:"text-lg font-bold flex w-full items-center justify-between",children:[e,0==t?(0,a.jsx)("div",{className:"w-3 h-3 rounded-full border-none bg-[#6a69fe] outline-2 outline-[#6a69fe] outline-offset-3 mr-1"}):(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border border-0.5 border-[#2e2e2e]"})]},t)}function eA(e){return e.stopPropagation()}function ez(){let e=(0,g.useRouter)(),[t,s]=(0,o.useState)(!1),[l,n]=(0,o.useState)(!1),[r,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),{setProvider:m,getProvider:u}=k(),[f,p]=(0,o.useState)([]),b=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=b.current;if(!e)return;let t=()=>{m("postTabScroll",e.scrollTop)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]),(0,o.useEffect)(()=>{let e=b.current;if(!e)return;let t=u("postTabScroll")||0;setTimeout(()=>{e.scrollTo({top:Number(t),behavior:"instant"})},100)},[]),(0,o.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("token"));e&&(i(e),d(t))},[]);let j=async()=>{try{let e=await fetch("http://localhost:4000/api/post/getPosts",{headers:{token:c}}),t=await e.json();e.ok&&t.posts.length&&p(e=>{let s=[...e,t.posts][0];return m("posts",s),s})}catch(e){console.error(e)}};return(0,o.useEffect)(()=>{if(!c)return;let e=u("posts")||[];if(e.length)return p(e);!async function(){await j()}()},[c]),(0,a.jsxs)("div",{className:"h-screen w-full text-center flex justify-between items-center flex-col pt-0",children:[(0,a.jsx)(_.A,{title:"Feed",right:[(0,a.jsx)(x.A,{onClick:()=>e.push("/search")},2),(0,a.jsx)(h.A,{onClick:()=>e.push("/search")},3)]}),t&&(0,a.jsx)(ey,{onClose:()=>s(!1)}),l&&(0,a.jsx)(ek,{onClose:e=>{n(e=>!e)}}),(0,a.jsx)("button",{onClick:()=>s(!0),className:J().addPostButton,children:(0,a.jsx)(F.A,{})}),(0,a.jsxs)("div",{ref:b,className:"flex-1 w-full flex flex-col items-center overflow-y-scroll pb-20 pt-0",children:[(0,a.jsxs)("div",{className:`w-full p-2 min-h-[180px] flex gap-3 overflow-x-scroll justify-evenly items-center ${L().fade}`,children:[(0,a.jsx)("div",{className:"w-[30%] h-[98%] rounded-xl bg-[#1d1d1d]"}),(0,a.jsx)("div",{className:"w-[30%] h-[98%] rounded-xl bg-[#1d1d1d]"}),(0,a.jsx)("div",{className:"w-[30%] h-[98%] rounded-xl bg-[#1d1d1d]"})]}),f.length?f.map((e,t)=>(0,a.jsx)(R,{singlePost:e},t)):null,(0,a.jsx)($,{})]})]})}var eI=s(582),eP=s(5784),eE=s(6848);function eT(){let e,t,s,n,r,i,c,d,m,u,f,p,x,g,b,j,y,v,N,S,w=(0,l.c)(45),[C,A]=(0,o.useState)("up"),{getProvider:z,setProvider:I}=k();w[0]!==z?(e=z("24snapsCurrentIndex")||0,w[0]=z,w[1]=e):e=w[1];let[P,T]=(0,o.useState)(e);w[2]!==P||w[3]!==I?(t=()=>{I("24snapsCurrentIndex",P)},w[2]=P,w[3]=I,w[4]=t):t=w[4],w[5]!==P?(s=[P],w[5]=P,w[6]=s):s=w[6],(0,o.useEffect)(t,s);let B=[{id:1,user:{username:"darino_mbula"},data:{letter:"Hello it's MLB the de of this app",type:"text"}},{id:2,user:{username:"alice_johns"},data:{letter:"Another message here",type:"text"}},{id:3,user:{username:"john_doe"},data:{letter:"More sample letters",type:"audio"}}],M=(0,eI.uh)({onSwipedUp:()=>{T(e=>(e+1)%B.length),A("up")},onSwipedDown:()=>{T(e=>(e-1+B.length)%B.length),A("down")},preventDefaultTouchmoveEvent:!0,trackTouch:!0}),D=B[P];w[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(_.A,{title:"24h Snaps",right:(0,a.jsx)(h.A,{})}),w[7]=n):n=w[7];let L=eP.N,R=eE.P;w[8]===Symbol.for("react.memo_cache_sentinel")?(r={opacity:0,y:150},i={opacity:1,y:0},w[8]=r,w[9]=i):(r=w[8],i=w[9]);let U="up"==C?-150:150;w[10]!==U?(c={opacity:0,y:U},w[10]=U,w[11]=c):c=w[11],w[12]===Symbol.for("react.memo_cache_sentinel")?(d={duration:.2},w[12]=d):d=w[12];let O=D.user.username[0].toUpperCase();w[13]!==O?(m=(0,a.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center font-bold",children:O}),w[13]=O,w[14]=m):m=w[14],w[15]!==D.user.username?(u=(0,a.jsxs)("span",{children:["@",D.user.username]}),w[15]=D.user.username,w[16]=u):u=w[16],w[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)("span",{className:"text-[#7a7a7a]",children:"2h"}),w[17]=f):f=w[17],w[18]!==m||w[19]!==u?(p=(0,a.jsxs)("div",{className:"w-full p-3 flex items-center gap-2",children:[m,u,"•",f]}),w[18]=m,w[19]=u,w[20]=p):p=w[20];let $="text"==D.data.type&&D.data.letter;return w[21]!==$?(x=(0,a.jsx)("div",{className:"flex-1 w-full flex items-center justify-center px-5 text-center text-lg",children:$}),w[21]=$,w[22]=x):x=w[22],w[23]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)(E.A,{}),w[23]=g):g=w[23],w[24]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsxs)("div",{className:"w-full p-4 flex items-center gap-4",children:[g,(0,a.jsxs)("div",{className:"w-[90%] bg-[#8080802f] rounded-full flex items-center justify-between p-2 pl-2",children:[(0,a.jsx)("div",{className:"min-w-6 flex items-center justify-center min-h-6 rounded-full bg-purple-500",children:"M"}),(0,a.jsx)("input",{type:"text",placeholder:"Comment...",className:"border-0 outline-0 bg-transparent w-full ml-2"})]})]}),w[24]=b):b=w[24],w[25]!==p||w[26]!==x?(j=(0,a.jsxs)("div",{className:"w-[95%] border border-[#6a69fe32] rounded-3xl h-[92%] flex flex-col items-center bg-[#6a69fe16]",children:[p,x,b]}),w[25]=p,w[26]=x,w[27]=j):j=w[27],w[28]!==P||w[29]!==c||w[30]!==d||w[31]!==j||w[32]!==R.div||w[33]!==r||w[34]!==i?(y=(0,a.jsx)(R.div,{initial:r,animate:i,exit:c,transition:d,className:"absolute w-full h-full flex flex-col items-center",children:j},P),w[28]=P,w[29]=c,w[30]=d,w[31]=j,w[32]=R.div,w[33]=r,w[34]=i,w[35]=y):y=w[35],w[36]!==L||w[37]!==y?(v=(0,a.jsx)(L,{initial:!1,children:y}),w[36]=L,w[37]=y,w[38]=v):v=w[38],w[39]!==M||w[40]!==v?(N=(0,a.jsx)("div",{...M,className:"relative flex-1 w-full overflow-hidden flex items-center justify-center",children:v}),w[39]=M,w[40]=v,w[41]=N):N=w[41],w[42]!==N||w[43]!==n?(S=(0,a.jsxs)("div",{className:"h-screen flex flex-col items-center overflow-hidden",children:[n,N]}),w[42]=N,w[43]=n,w[44]=S):S=w[44],S}var eB=s(7978),eM=s(7629),eD=s(8457),eL=s.n(eD);function eR(e){let t,s,n,o,r,i,c,d,m,u=(0,l.c)(18),{onClose:f}=e;u[0]!==f?(t=e=>{f(e)},u[0]=f,u[1]=t):t=u[1];let p=t;return u[2]!==p?(s=()=>p(1),u[2]=p,u[3]=s):s=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(eB.A,{size:20}),u[4]=n):n=u[4],u[5]!==s?(o=(0,a.jsxs)("div",{onClick:s,className:"w-full flex items-center justify-between text-[17px]",children:["Publication",n]}),u[5]=s,u[6]=o):o=u[6],u[7]!==p?(r=()=>p(2),u[7]=p,u[8]=r):r=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(eM.A,{size:20}),u[9]=i):i=u[9],u[10]!==r?(c=(0,a.jsxs)("div",{onClick:r,className:"w-full flex items-center justify-between text-[17px]",children:["24h Snap",i]}),u[10]=r,u[11]=c):c=u[11],u[12]!==o||u[13]!==c?(d=(0,a.jsxs)("div",{onClick:eU,className:`w-[50%] h-30 rounded-3xl bg-black mb-10 p-6 pt-2 pb-2 flex flex-col items-center justify-evenly ${eL().bounse}`,children:[o,c]}),u[12]=o,u[13]=c,u[14]=d):d=u[14],u[15]!==p||u[16]!==d?(m=(0,a.jsx)("div",{onClick:p,className:`w-full h-full bottom-0 fixed flex flex-col items-center justify-end pb-5 bg-[#ffffff22] ${eL().fade}`,children:d}),u[15]=p,u[16]=d,u[17]=m):m=u[17],m}function eU(e){return e.stopPropagation()}var eO=s(6160);function e$(e){let t,s,n,r,i,c,m,u,p,h,x,_=(0,l.c)(30),{icon:b,type:j,description:y,user:v,onClose:N,room:S}=e,w=(0,o.useRef)(null),k=(0,g.useRouter)();_[0]!==N?(t=()=>{let e=function(){let e=w.current;e&&(e.classList.remove(L().toast_trans),e.classList.add(L().toast_trans_remove))};setTimeout(()=>{e(),setTimeout(()=>N(),300)},3e3)},_[0]=N,_[1]=t):t=_[1],_[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],_[2]=s):s=_[2],(0,o.useEffect)(t,s),_[3]!==S||_[4]!==k||_[5]!==j?(n=()=>{"text"==j||"theme"==j&&S&&k.push(`/chat?chat_id=${S}`)},_[3]=S,_[4]=k,_[5]=j,_[6]=n):n=_[6],_[7]!==b||_[8]!==j||_[9]!==v.name?(r=b?(0,a.jsx)("img",{src:b,className:"w-[45px] h-[45px] bg-blue-500 rounded-full font-bold shrink-0 flex items-center justify-center"}):(0,a.jsx)("div",{className:"w-[45px] h-[45px] bg-blue-500 rounded-full font-bold shrink-0 flex items-center justify-center",children:"msg"==j?v.name[0].toUpperCase():"theme"==j?(0,a.jsx)(eO.A,{}):null}),_[7]=b,_[8]=j,_[9]=v.name,_[10]=r):r=_[10];let C="msg"==j?"New message":"theme"==j?"New chat theme":"";_[11]!==j?(i="reaction"==j?(0,a.jsx)(f.A,{fill:"red",stroke:"red",size:12}):(0,a.jsx)(d.A,{fill:"#00e000",stroke:"#00e000",size:12}),_[11]=j,_[12]=i):i=_[12],_[13]!==C||_[14]!==i?(c=(0,a.jsxs)("strong",{className:"flex gap-1 items-center",children:[C,i]}),_[13]=C,_[14]=i,_[15]=c):c=_[15];let A=v.name||"...";return _[16]!==A?(m=(0,a.jsx)("span",{className:"font-bold",children:A}),_[16]=A,_[17]=m):m=_[17],_[18]!==y?(u=y.substring(0,35),_[18]=y,_[19]=u):u=_[19],_[20]!==u||_[21]!==m?(p=(0,a.jsxs)("span",{className:"text-ellipsis max-w-[91%] whitespace-nowrap overflow-hidden text-[15px]",children:[m,": ",u]}),_[20]=u,_[21]=m,_[22]=p):p=_[22],_[23]!==p||_[24]!==c?(h=(0,a.jsxs)("div",{className:"flex flex-col flex-1",children:[c,p]}),_[23]=p,_[24]=c,_[25]=h):h=_[25],_[26]!==h||_[27]!==n||_[28]!==r?(x=(0,a.jsx)("div",{ref:w,className:`w-full h-15 bottom-15 fixed flex items-center justify-center z-20 ${L().toast_trans}`,children:(0,a.jsxs)("div",{onClick:n,draggable:!0,className:"w-[95%] h-[95%] rounded-full bg-[#1a1a2a] gap-2 flex items-center justify-evenly p-1.5 active:scale-98 transition active:opacity-97",children:[r,h]})}),_[26]=h,_[27]=n,_[28]=r,_[29]=x):x=_[29],x}function eF(){let e,t,s,r,i,p,h,x,_,g,b,j,y,v,N,S,w,A,z,P,E=(0,l.c)(62),{setProvider:T,getProvider:B}=k();E[0]!==B?(e=B("homeTab")||1,E[0]=B,E[1]=e):e=E[1];let[M,D]=(0,o.useState)(e),[L,R]=(0,o.useState)(!1),[U,O]=(0,o.useState)(!1),[$,F]=(0,o.useState)(!1),[G,J]=(0,o.useState)(!1);E[2]===Symbol.for("react.memo_cache_sentinel")?(t={},E[2]=t):t=E[2];let[W,H]=(0,o.useState)(t);E[3]===Symbol.for("react.memo_cache_sentinel")?(s=()=>(n.A.on("receive_message",e=>{J(!0),O(!0),console.log(e?.roomId),H({type:"msg",description:e?.content,room_id:e?.roomId})}),n.A.on("theme_changed",e=>{console.log(e?.room_id),J(!0),O(!0),H({type:"theme",description:e?.msg,room_id:e?.room_id,name:e?.changer,theme_data:e?.new_theme})}),eG),r=[],E[3]=s,E[4]=r):(s=E[3],r=E[4]),(0,o.useEffect)(s,r),E[5]===Symbol.for("react.memo_cache_sentinel")?(i=[(0,a.jsx)(C,{onEmit:()=>J(!0)},1),(0,a.jsx)(eT,{},4),(0,a.jsx)(I,{},3),(0,a.jsx)(ez,{},2)],E[5]=i):i=E[5];let K=i;E[6]!==$||E[7]!==B||E[8]!==G||E[9]!==T?(p=e=>{e&&($&&F(!1),T("homeTab",e),D(B("homeTab")||1),1==e&&G&&J(!1))},E[6]=$,E[7]=B,E[8]=G,E[9]=T,E[10]=p):p=E[10];let X=p,q=K[M-1];E[11]!==$?(h=$&&(0,a.jsx)(eR,{onClose:e=>{F(!1),1==e&&setTimeout(()=>R(!0),100)}}),E[11]=$,E[12]=h):h=E[12],E[13]!==M||E[14]!==$||E[15]!==L||E[16]!==W?.description||E[17]!==W?.name||E[18]!==W?.room_id||E[19]!==W?.theme_data?.theme_url||E[20]!==W?.type||E[21]!==U?(x=U&&1!=M&&!$&&!L&&(0,a.jsx)(e$,{type:W?.type,room:W?.room_id,onClose:()=>O(!1),description:W?.description,media:W?.theme_data?.theme_url||null,user:{name:W?.name||"Notr"}}),E[13]=M,E[14]=$,E[15]=L,E[16]=W?.description,E[17]=W?.name,E[18]=W?.room_id,E[19]=W?.theme_data?.theme_url,E[20]=W?.type,E[21]=U,E[22]=x):x=E[22],E[23]!==G?(_=G&&(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500 absolute right-[-1px] top-[-1px] border border-2 border-[#0a0a0a]"}),E[23]=G,E[24]=_):_=E[24];let V=1==M?"#6a69fe":"darkgray",Y=1==M?"#6a69fe":"transparent";E[25]!==X?(g=()=>X(1),E[25]=X,E[26]=g):g=E[26],E[27]!==V||E[28]!==Y||E[29]!==g?(b=(0,a.jsx)(d.A,{color:V,fill:Y,onClick:g}),E[27]=V,E[28]=Y,E[29]=g,E[30]=b):b=E[30],E[31]!==b||E[32]!==_?(j=(0,a.jsxs)("div",{className:"relative",children:[_,b]},7),E[31]=b,E[32]=_,E[33]=j):j=E[33];let Q=2==M?"#6a69fe":"darkgray",Z=2==M?"#6a69fe":"transparent";E[34]!==X?(y=()=>X(2),E[34]=X,E[35]=y):y=E[35],E[36]!==Q||E[37]!==Z||E[38]!==y?(v=(0,a.jsx)(m.A,{color:Q,fill:Z,onClick:y},3),E[36]=Q,E[37]=Z,E[38]=y,E[39]=v):v=E[39];let ee=3==M?"#6a69fe":"darkgray",et=3==M?"#6a69fe":"transparent";E[40]!==X?(N=()=>X(3),E[40]=X,E[41]=N):N=E[41],E[42]!==ee||E[43]!==et||E[44]!==N?(S=(0,a.jsx)(u.A,{color:ee,fill:et,onClick:N},5),E[42]=ee,E[43]=et,E[44]=N,E[45]=S):S=E[45],E[46]!==X?(w=()=>X(4),E[46]=X,E[47]=w):w=E[47];let es=4==M?"#6a69fe":"darkgray",ea=4==M?"#6a69fe":"transparent";return E[48]!==w||E[49]!==es||E[50]!==ea?(A=(0,a.jsx)(f.A,{onClick:w,color:es,fill:ea},2),E[48]=w,E[49]=es,E[50]=ea,E[51]=A):A=E[51],E[52]!==j||E[53]!==v||E[54]!==S||E[55]!==A?(z=(0,a.jsx)(c,{elems:[j,v,S,A]}),E[52]=j,E[53]=v,E[54]=S,E[55]=A,E[56]=z):z=E[56],E[57]!==z||E[58]!==q||E[59]!==h||E[60]!==x?(P=(0,a.jsxs)("div",{children:[q,h,x,z]}),E[57]=z,E[58]=q,E[59]=h,E[60]=x,E[61]=P):P=E[61],P}function eG(){n.A.off("receive_message"),n.A.off("theme_changed")}var eJ=s(7276),eW=s.n(eJ),eH=s(4399),eK=s.n(eH),eX=s(6746),eq=s(6653);function eV(e){let t,s,n,r,i,c,d,m,u,f,p,h,x,_,g,b,j,y=(0,l.c)(33),{close:v}=e,[N,S]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),[C,A]=(0,o.useState)(""),[z,I]=(0,o.useState)("");y[0]===Symbol.for("react.memo_cache_sentinel")?(t={},y[0]=t):t=y[0];let[P,E]=(0,o.useState)(t);y[1]!==z||y[2]!==C?(s=async()=>{if(!z&&!C)return;k(!0);let e=await fetch("http://localhost:4000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z,password:C})}),t=await e.json();if(!e.ok){E({msg:t.msg,title:"Login"}),k(!1);return}e.ok&&t.token&&(localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("token",JSON.stringify(t.token))),location.reload(),k(!1)},y[1]=z,y[2]=C,y[3]=s):s=y[3];let T=s;y[4]!==v?(n=(0,a.jsx)("div",{className:eK().close,children:v}),y[4]=v,y[5]=n):n=y[5],y[6]!==w?(r=w&&(0,a.jsx)(ea,{}),y[6]=w,y[7]=r):r=y[7],y[8]!==P?(i=P?.title&&(0,a.jsx)(Z,{msg:P.msg,title:P.title,onSubmit:()=>E({})}),y[8]=P,y[9]=i):i=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)("h1",{className:eK().h1,children:"Welcome back"}),y[10]=c):c=y[10],y[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("label",{className:eK().label,children:"Email"}),y[11]=d):d=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)("input",{placeholder:"Email",type:"email",className:eK().input,onChange:e=>I(e.target.value)}),u=(0,a.jsx)("label",{className:eK().label,children:"Password"}),y[12]=m,y[13]=u):(m=y[12],u=y[13]);let B=N?"text":"password";return y[14]===Symbol.for("react.memo_cache_sentinel")?(f=e=>A(e.target.value),p={paddingRight:50},y[14]=f,y[15]=p):(f=y[14],p=y[15]),y[16]!==B?(h=(0,a.jsx)("input",{placeholder:"Password",type:B,className:eK().input,onChange:f,style:p}),y[16]=B,y[17]=h):h=y[17],y[18]!==N?(x=N?(0,a.jsx)(eq.A,{size:30,onClick:()=>S(!1),className:eK().eye}):(0,a.jsx)(eX.A,{size:30,onClick:()=>S(!0),className:eK().eye}),y[18]=N,y[19]=x):x=y[19],y[20]!==h||y[21]!==x?(_=(0,a.jsxs)("div",{className:eK().psswD,children:[h,x]}),y[20]=h,y[21]=x,y[22]=_):_=y[22],y[23]!==T?(g=(0,a.jsx)("button",{onClick:T,className:eK().loginB,children:"Login"}),y[23]=T,y[24]=g):g=y[24],y[25]!==_||y[26]!==g?(b=(0,a.jsxs)("div",{className:eK().inpDiv,children:[d,m,u,_,g]}),y[25]=_,y[26]=g,y[27]=b):b=y[27],y[28]!==b||y[29]!==n||y[30]!==r||y[31]!==i?(j=(0,a.jsxs)("div",{className:eK().body,children:[n,r,i,c,b]}),y[28]=b,y[29]=n,y[30]=r,y[31]=i,y[32]=j):j=y[32],j}var eY=s(7137),eQ=s(6458),eZ=s(6042),e0=s(2990);let e1=(0,eZ.Wp)({apiKey:"AIzaSyAuhrKadXUM3KF6ZD2fdCT6WEy7exh2XAE",authDomain:"quonvers.firebaseapp.com",projectId:"quonvers",storageBucket:"quonvers.firebasestorage.app",messagingSenderId:"62094508539",appId:"1:62094508539:web:84bba378f8efdaa0674b5e",measurementId:"G-K16XSB4W1G"}),e2=(0,e0.xI)(e1),e3=new e0.HF;function e5(){let e,t,s,n,r,i,c,d,m,u,f,p,h,x,_,g,b,j,y,v,N,S=(0,l.c)(33),[w,k]=(0,o.useState)(""),[C,A]=(0,o.useState)(!1),[z,I]=(0,o.useState)(0),[P,E]=(0,o.useState)(!1);S[0]===Symbol.for("react.memo_cache_sentinel")?(e=["Quonvers","Chat","Meet","Laugth"],S[0]=e):e=S[0];let T=e,[B,M]=(0,o.useState)(!1);S[1]===Symbol.for("react.memo_cache_sentinel")?(t={},S[1]=t):t=S[1];let[D,L]=(0,o.useState)(t);S[2]===Symbol.for("react.memo_cache_sentinel")?(s=async function(){M(!0);try{let e=(await (0,e0.df)(e2,e3)).user,t=await e.getIdToken(),s=await fetch("http://localhost:4000/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})}),a=await s.json();s.ok||(L({error:!0,msg:a.msg,title:"Google error"}),M(!1)),s.ok&&(localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("token",JSON.stringify(a.token)),location.reload())}catch(e){L({error:!0,msg:"Oops, something bad happened, check your network connection and try again, if the problem persists contact us.",title:"Google error"}),M(!1)}},S[2]=s):s=S[2];let R=s;return S[3]!==P||S[4]!==w||S[5]!==z?(n=()=>{let e,t=T[z];return!P&&w.length<t.length?e=setTimeout(()=>{k(e=>e+t[w.length])},120):P&&w.length>0?e=setTimeout(()=>{k(e6)},80):P||w.length!==t.length?P&&0===w.length&&(E(!1),I(e=>(e+1)%T.length)):e=setTimeout(()=>{E(!0)},1200),()=>clearTimeout(e)},r=[w,P,z,T],S[3]=P,S[4]=w,S[5]=z,S[6]=n,S[7]=r):(n=S[6],r=S[7]),(0,o.useEffect)(n,r),S[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)("div",{className:eW().q}),c=(0,a.jsx)("div",{className:eW().q2}),S[8]=i,S[9]=c):(i=S[8],c=S[9]),S[10]!==B?(d=B&&(0,a.jsx)(ea,{}),S[10]=B,S[11]=d):d=S[11],S[12]!==D?(m=D&&D.title&&(0,a.jsx)(Z,{msg:D.msg,title:D.title,onClose:()=>L({}),onSubmit:()=>L({}),cancel:!0,cancel_button_text:"Report",submit_button_text:"Try again"}),S[12]=D,S[13]=m):m=S[13],S[14]!==w?(u=(0,a.jsx)("h1",{className:eW().h1,children:w}),S[14]=w,S[15]=u):u=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsxs)("div",{className:eW().option,children:[(0,a.jsx)("div",{className:eW().icon,children:(0,a.jsx)(eY.A,{size:17})}),"Create an account"]}),p=()=>A(!0),S[16]=f,S[17]=p):(f=S[16],p=S[17]),S[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsxs)("div",{onClick:p,className:eW().option,children:[(0,a.jsx)("div",{className:eW().icon,children:(0,a.jsx)(eQ.A,{size:17})}),"Login"]}),S[18]=h):h=S[18],S[19]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)("div",{className:eW().div}),S[19]=x):x=S[19],S[20]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsxs)("div",{className:eW().divider,children:[x,"Or",(0,a.jsx)("div",{className:eW().div})]}),S[20]=_):_=S[20],S[21]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsxs)("div",{onClick:R,className:eW().option,children:[(0,a.jsx)("div",{style:{fontSize:20},className:eW().icon,children:"G"}),"continue with Google"]}),S[21]=g):g=S[21],S[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("strong",{className:"text-[#6a69fe]",children:"Privacy policy"}),S[22]=b):b=S[22],S[23]===Symbol.for("react.memo_cache_sentinel")?(j=(0,a.jsxs)("div",{className:eW().optionsDiv,children:[f,h,_,g,(0,a.jsxs)("span",{className:"text-center text-[12px] pl-2 pr-2",children:["By continuing, you're agree to our ",b," and ",(0,a.jsx)("strong",{className:"text-[#6a69fe]",children:"Terms of use"})]})]}),S[23]=j):j=S[23],S[24]!==d||S[25]!==m||S[26]!==u?(y=(0,a.jsxs)("div",{className:eW().body,children:[d,m,u,j]}),S[24]=d,S[25]=m,S[26]=u,S[27]=y):y=S[27],S[28]!==C?(v=C&&(0,a.jsx)(eV,{close:(0,a.jsx)("span",{onClick:()=>A(!1),children:"\xd7"})}),S[28]=C,S[29]=v):v=S[29],S[30]!==y||S[31]!==v?(N=(0,a.jsxs)("div",{className:eW().back,children:[i,c,y,v]}),S[30]=y,S[31]=v,S[32]=N):N=S[32],N}function e6(e){return e.substring(0,e.length-1)}var e4=s(7611),e9=s.n(e4);function e8(){let[e,t]=(0,o.useState)(null),[s,l]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{let e=localStorage.getItem("user");if(!e)return void l(!1);try{let s=JSON.parse(e);s?.id&&"string"==typeof s.id?t(s):(localStorage.removeItem("user"),t(null))}catch{localStorage.removeItem("user"),t(null)}finally{l(!1)}},[]),s)?(0,a.jsxs)("div",{className:"w-full h-[100dvh] flex flex-col justify-center items-center gap-4",children:[(0,a.jsx)("div",{className:e9().loader}),"Loading..."]}):e?.id?(0,a.jsx)(eF,{}):(0,a.jsx)(e5,{})}},9857:e=>{e.exports={body:"create_post_body__31cAm",bottomSizer:"create_post_bottomSizer__5EimL",post:"create_post_post___a_JT",user:"create_post_user__E6A6i",userIcon:"create_post_userIcon__y47V2",textarea:"create_post_textarea__26G1Y",contentDiv:"create_post_contentDiv__LdlWy",mediaDiv:"create_post_mediaDiv__Rnwmd",media:"create_post_media__5lAYb",inputImage:"create_post_inputImage__Glv4_",subMedia:"create_post_subMedia__6wlvJ",small:"create_post_small__36vj5",postImg:"create_post_postImg__v_QCb",postButton:"create_post_postButton__cb6Jv",cateBlur:"create_post_cateBlur__c1Ibp",box:"create_post_box__gs1GD",h3:"create_post_h3__nTae5",cateList:"create_post_cateList__CAKsH",cate:"create_post_cate__dPUUo",actualCate:"create_post_actualCate__s03Zv",closeB:"create_post_closeB__LViD5",removeBody:"create_post_removeBody__ZnB2i",bottomSizerRemove:"create_post_bottomSizerRemove__86339",emopicker:"create_post_emopicker__ybb3q",sizer2:"create_post_sizer2__oXDQP"}}},e=>{e.O(0,[239,832,196,156,907,593,636,792],()=>e(e.s=6760)),_N_E=e.O()}]);